<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Work+Sans:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #fafaf9;
            --text: #1c1917;
            --text-light: #78716c;
            --accent: #a8a29e;
            --accent-dark: #57534e;
            --border: #e7e5e4;
        }

        .dark-theme {
            --bg: #1c1917;
            --text: #fafaf9;
            --text-light: #a8a29e;
            --accent: #78716c;
            --accent-dark: #d6d3d1;
            --border: #292524;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Work Sans', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1), color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        h1, h2, h3 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 400;
            letter-spacing: -0.02em;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            z-index: 100;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--text);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .theme-toggle {
            background: none;
            border: 1px solid var(--border);
            color: var(--text);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--text);
            color: var(--bg);
        }

        .edit-toggle {
            position: fixed;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: transparent;
            color: var(--text-light);
            border: 1px solid var(--border);
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.7rem;
            font-weight: 400;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            opacity: 0.3;
            z-index: 50;
        }

        .edit-toggle:hover {
            opacity: 1;
            background: var(--text);
            color: var(--bg);
        }

        .export-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            margin-left: 0.5rem;
            display: none;
        }

        .export-btn.show {
            display: inline-block;
        }

        .export-btn:hover {
            background: #059669;
        }

        .add-post-btn {
            background: var(--text);
            color: var(--bg);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
            display: none;
        }

        .add-post-btn.show {
            display: inline-block;
        }

        .add-post-btn:hover {
            opacity: 0.8;
        }

        .delete-post-btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
            display: none;
        }

        .edit-mode .delete-post-btn {
            display: inline-block;
        }

        .delete-post-btn:hover {
            background: #b91c1c;
        }

        /* Password Modal */
        .password-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .password-modal.show {
            display: flex;
        }

        .password-content {
            background: var(--bg);
            padding: 2.5rem;
            border-radius: 4px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .password-content h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .password-content p {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .password-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            background: var(--bg);
            color: var(--text);
            border-radius: 2px;
            font-size: 1rem;
            margin-bottom: 1rem;
            font-family: 'Work Sans', sans-serif;
        }

        .password-input:focus {
            outline: none;
            border-color: var(--text);
        }

        .password-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .password-btn {
            flex: 1;
            padding: 0.75rem;
            border: none;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .password-btn.submit {
            background: var(--text);
            color: var(--bg);
        }

        .password-btn.submit:hover {
            opacity: 0.8;
        }

        .password-btn.cancel {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .password-btn.cancel:hover {
            background: var(--border);
        }

        .password-error {
            color: #dc2626;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }

        .password-error.show {
            display: block;
        }

        /* Post Detail Modal */
        .post-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0);
            z-index: 500;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            overflow-y: auto;
            transition: background 0.3s ease;
        }

        .post-modal.show {
            display: flex;
            background: rgba(0,0,0,0.85);
        }

        .post-modal-content {
            background: var(--bg);
            padding: 3rem;
            border-radius: 4px;
            max-width: 700px;
            width: 100%;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9) translateY(20px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .post-modal.show .post-modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .post-modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-light);
            transition: color 0.3s ease;
            line-height: 1;
        }

        .post-modal-close:hover {
            color: var(--text);
        }

        .post-modal-image {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 2rem;
        }

        .post-modal h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .post-modal-description {
            color: var(--text-light);
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .post-modal-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding-top: 70px;
            opacity: 0;
            animation: fadeIn 1s ease forwards;
            animation-delay: 0.2s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .hero-content {
            max-width: 600px;
        }

        .hero h1 {
            font-size: clamp(3rem, 8vw, 5rem);
            line-height: 1.1;
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .hero p {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 3rem;
            max-width: 500px;
        }

        .cta-link {
            display: inline-block;
            color: var(--text);
            text-decoration: none;
            font-size: 0.9rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            border-bottom: 1px solid var(--text);
            padding-bottom: 0.25rem;
            transition: all 0.3s ease;
        }

        .cta-link:hover {
            opacity: 0.6;
            transform: translateY(-2px);
        }

        /* About Section */
        .about {
            padding: 4rem 0;
            border-top: 1px solid var(--border);
        }

        .section-label {
            font-size: 0.8rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--text-light);
            margin-bottom: 2rem;
            opacity: 0;
            animation: slideInLeft 0.6s ease forwards;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 3rem;
            align-items: start;
        }

        .about-image {
            width: 100%;
            aspect-ratio: 1;
            background: var(--accent);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border-radius: 50%;
            animation: scaleIn 0.8s ease forwards;
            animation-delay: 0.2s;
            opacity: 0;
        }

        .about-image.view-only {
            cursor: default;
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .about-image:hover img {
            transform: scale(1.1);
        }

        .about-text {
            animation: slideInRight 0.8s ease forwards;
            animation-delay: 0.4s;
            opacity: 0;
        }

        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        .about-text p {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        /* Posts Section */
        .projects {
            padding: 4rem 0;
            border-top: 1px solid var(--border);
        }

        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
        }

        .post-card {
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            animation: fadeIn 0.6s ease forwards;
        }

        .post-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .post-card-image {
            width: 100%;
            aspect-ratio: 16/10;
            background: var(--accent);
            overflow: hidden;
            border-radius: 4px;
            margin-bottom: 1rem;
            position: relative;
        }

        .post-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .post-card:hover .post-card-image img {
            transform: scale(1.1) rotate(1deg);
        }

        .post-card-title {
            font-size: 1.25rem;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 0.5rem;
        }

        .post-card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        /* Contact Section */
        .contact {
            padding: 4rem 0;
            border-top: 1px solid var(--border);
        }

        .contact h2 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }

        .contact-item {
            color: var(--text-light);
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0;
            border-radius: 4px;
        }

        .contact-item:hover {
            color: var(--text);
            transform: translateX(10px);
            padding-left: 0.5rem;
        }

        .contact-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .contact-item:hover .contact-icon {
            transform: scale(1.2) rotate(5deg);
        }

        /* Footer */
        footer {
            padding: 2rem 0;
            border-top: 1px solid var(--border);
            text-align: center;
            color: var(--text-light);
            font-size: 0.85rem;
        }

        /* Editable styles */
        .editable {
            outline: none;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .editable[contenteditable="true"]:focus {
            background: rgba(168, 162, 158, 0.1);
            padding: 0.25rem;
        }

        .edit-mode .editable[contenteditable="true"] {
            cursor: text;
            position: relative;
        }

        /* Save notification */
        .save-notification {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--text);
            color: var(--bg);
            padding: 1rem 1.5rem;
            border-radius: 2px;
            font-size: 0.9rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 200;
        }

        .save-notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .tag {
            font-size: 0.75rem;
            color: var(--text-light);
            padding: 0.25rem 0.75rem;
            border: 1px solid var(--border);
            border-radius: 2px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1.5rem;
            }

            .nav-links {
                gap: 1rem;
            }

            .nav-links a {
                font-size: 0.85rem;
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .about-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .posts-grid {
                grid-template-columns: 1fr;
            }

            .post-modal-content {
                padding: 2rem;
            }
        }

        .upload-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            background: rgba(0,0,0,0.7);
            padding: 0.5rem 1rem;
            border-radius: 2px;
            white-space: nowrap;
        }

        .edit-mode .about-image:hover .upload-prompt,
        .edit-mode .post-card-image:hover .upload-prompt {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Password Modal -->
    <div class="password-modal" id="password-modal">
        <div class="password-content">
            <h3>Admin Login</h3>
            <p>Enter password to edit portfolio</p>
            <input type="password" class="password-input" id="password-input" placeholder="Enter password">
            <div class="password-error" id="password-error">Incorrect password. Please try again.</div>
            <div class="password-buttons">
                <button class="password-btn cancel" onclick="closePasswordModal()">Cancel</button>
                <button class="password-btn submit" onclick="checkPassword()">Login</button>
            </div>
        </div>
    </div>

    <!-- Post Detail Modal -->
    <div class="post-modal" id="post-modal">
        <div class="post-modal-content">
            <button class="post-modal-close" onclick="closePostModal()">Ã—</button>
            <img class="post-modal-image" id="modal-image" src="" alt="">
            <h2 class="editable" id="modal-title"></h2>
            <div class="post-modal-description editable" id="modal-description"></div>
            <div class="post-modal-tags" id="modal-tags"></div>
            <button class="delete-post-btn" id="modal-delete-btn" onclick="deleteCurrentPost()">Delete Post</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="container">
            <div class="logo editable">Farhan</div>
            <div class="nav-links">
                <a href="#about">About</a>
                <a href="#posts">Posts</a>
                <a href="#contact">Contact</a>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <span id="theme-icon">â˜¾</span>
                </button>
                <button class="export-btn" id="export-btn" onclick="exportPortfolio()">
                    Export
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="editable">Student â€¢ Writer â€¢ Creator</h1>
                <p class="editable">Exploring the world through learning, writing, and creating meaningful experiences.</p>
                <a href="#contact" class="cta-link">Get in touch</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <div class="section-label">About</div>
            <div class="about-content">
                <div class="about-image" id="about-image-container">
                    <img id="profile-img" src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=faces" alt="Profile">
                    <div class="upload-prompt">Click to change</div>
                    <input type="file" id="profile-upload" accept="image/*" style="display: none;" onchange="updateProfileImage(event)">
                </div>
                <div class="about-text">
                    <h2 class="editable">Mohammad Farhan</h2>
                    <p class="editable">I'm Mohammad Farhan, currently studying at the University of Chittagong. I'm in my 3rd year, pursuing my academic journey with passion and dedication.</p>
                    <p class="editable">I believe in continuous learning and growth. Every experience is an opportunity to develop new skills and broaden my perspective.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Posts Section -->
    <section id="posts" class="projects">
        <div class="container">
            <div class="section-label">Posts</div>
            <button class="add-post-btn" id="add-post-btn" onclick="addNewPost()">
                + Add New Post
            </button>
            
            <div class="posts-grid" id="posts-container"></div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <div class="section-label">Contact</div>
            <h2 class="editable">Let's work together</h2>
            <div class="contact-info">
                <a href="mailto:your.email@example.com" class="contact-item">
                    <span class="contact-icon">ðŸ“§</span>
                    <span class="editable">your.email@example.com</span>
                </a>
                <a href="tel:+1234567890" class="contact-item">
                    <span class="contact-icon">ðŸ“±</span>
                    <span class="editable">+1 (234) 567-890</span>
                </a>
                <a href="https://facebook.com/yourprofile" target="_blank" class="contact-item editable-link" data-platform="facebook">
                    <span class="contact-icon">ðŸ“˜</span>
                    <span>Facebook</span>
                </a>
                <a href="https://wa.me/1234567890" target="_blank" class="contact-item editable-link" data-platform="whatsapp">
                    <span class="contact-icon">ðŸ’¬</span>
                    <span>WhatsApp</span>
                </a>
                <a href="https://instagram.com/yourprofile" target="_blank" class="contact-item editable-link" data-platform="instagram">
                    <span class="contact-icon">ðŸ“·</span>
                    <span>Instagram</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="editable">Â© 2024 Mohammad Farhan. All rights reserved.</p>
        </div>
    </footer>

    <!-- Hidden Edit Button -->
    <button class="edit-toggle" onclick="requestEditMode()">
        <span id="edit-text">âœŽ</span>
    </button>

    <!-- Save notification -->
    <div class="save-notification" id="save-notification">
        Changes saved successfully
    </div>

    <script>
        // ========== PASSWORD CONFIGURATION ==========
        // CHANGE THIS PASSWORD TO YOUR OWN!
        const ADMIN_PASSWORD = "mypassword123";
        // ============================================

        let isAuthenticated = false;
        let editMode = false;
        let postIdCounter = 3;
        let currentPostId = null;

        // Initialize default posts
        const defaultPosts = [
            {
                id: 1,
                image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop",
                title: "First Blog Post",
                description: "This is your first blog post. Click to read more and edit the full content. You can add multiple paragraphs, share your thoughts, experiences, and stories here. Make it as detailed as you want!",
                tags: ["Technology", "Design", "Writing"]
            },
            {
                id: 2,
                image: "https://images.unsplash.com/photo-1467232004584-a241de8bcf5d?w=800&h=600&fit=crop",
                title: "Second Blog Post",
                description: "Another post for your portfolio. Share your insights, projects, and experiences. This is where you can elaborate on your work, discuss challenges you faced, and share what you learned along the way.",
                tags: ["Development", "Learning", "Projects"]
            },
            {
                id: 3,
                image: "https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800&h=600&fit=crop",
                title: "Third Blog Post",
                description: "Keep adding posts to showcase your journey. Document your progress, share tutorials, or discuss topics you're passionate about. Each post is an opportunity to connect with your audience.",
                tags: ["Ideas", "Innovation", "Growth"]
            }
        ];

        // Theme Toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const icon = document.getElementById('theme-icon');
            const isDark = document.body.classList.contains('dark-theme');
            icon.textContent = isDark ? 'â˜¼' : 'â˜¾';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Load saved theme
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('theme-icon').textContent = 'â˜¼';
            }
            loadAllContent();
            loadPosts();
            setEditableState(false);
        });

        // Request Edit Mode
        function requestEditMode() {
            if (!isAuthenticated && !editMode) {
                document.getElementById('password-modal').classList.add('show');
                document.getElementById('password-input').focus();
            } else if (isAuthenticated && editMode) {
                toggleEditMode();
            }
        }

        // Check Password
        function checkPassword() {
            const input = document.getElementById('password-input');
            const error = document.getElementById('password-error');
            
            if (input.value === ADMIN_PASSWORD) {
                isAuthenticated = true;
                closePasswordModal();
                activateEditMode();
                input.value = '';
                error.classList.remove('show');
            } else {
                error.classList.add('show');
                input.value = '';
                input.focus();
            }
        }

        // Close Password Modal
        function closePasswordModal() {
            document.getElementById('password-modal').classList.remove('show');
            document.getElementById('password-input').value = '';
            document.getElementById('password-error').classList.remove('show');
        }

        // Enter key to submit password
        document.getElementById('password-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        // Activate Edit Mode
        function activateEditMode() {
            editMode = true;
            document.getElementById('edit-text').textContent = 'ðŸ’¾';
            document.body.classList.add('edit-mode');
            document.getElementById('export-btn').classList.add('show');
            document.getElementById('add-post-btn').classList.add('show');
            setEditableState(true);
            
            // Enable image upload for profile
            document.getElementById('about-image-container').onclick = () => document.getElementById('profile-upload').click();
            
            // Enable social link editing
            setupSocialLinkEditing();
        }

        // Toggle Edit Mode (Save)
        function toggleEditMode() {
            if (editMode) {
                editMode = false;
                isAuthenticated = false;
                document.getElementById('edit-text').textContent = 'âœŽ';
                document.body.classList.remove('edit-mode');
                document.getElementById('export-btn').classList.remove('show');
                document.getElementById('add-post-btn').classList.remove('show');
                setEditableState(false);
                saveAllContent();
                savePosts();
                showNotification();
                
                // Disable image uploads
                document.getElementById('about-image-container').onclick = null;
            }
        }

        // Set Editable State
        function setEditableState(canEdit) {
            const editables = document.querySelectorAll('.editable');
            editables.forEach(el => {
                el.contentEditable = canEdit;
            });
            
            const aboutContainer = document.getElementById('about-image-container');
            if (canEdit) {
                aboutContainer.classList.remove('view-only');
            } else {
                aboutContainer.classList.add('view-only');
            }
        }

        // Social Link Editing
        function setupSocialLinkEditing() {
            document.querySelectorAll('.editable-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (editMode) {
                        e.preventDefault();
                        const platform = this.dataset.platform;
                        const currentUrl = this.href;
                        let promptText = '';
                        
                        if (platform === 'facebook') {
                            promptText = 'Enter Facebook profile URL\n(e.g., https://facebook.com/yourname):';
                        } else if (platform === 'whatsapp') {
                            promptText = 'Enter WhatsApp number with country code\n(e.g., 8801234567890):';
                        } else if (platform === 'instagram') {
                            promptText = 'Enter Instagram username\n(e.g., yourname):';
                        }
                        
                        const newValue = prompt(promptText, currentUrl);
                        if (newValue) {
                            if (platform === 'whatsapp' && !newValue.startsWith('https://')) {
                                this.href = `https://wa.me/${newValue.replace(/\D/g, '')}`;
                            } else if (platform === 'instagram' && !newValue.startsWith('https://')) {
                                this.href = `https://instagram.com/${newValue.replace('@', '')}`;
                            } else {
                                this.href = newValue;
                            }
                        }
                    }
                });
            });
        }

        // Save all editable content
        function saveAllContent() {
            const editables = document.querySelectorAll('.editable');
            const content = {};
            
            editables.forEach((el, index) => {
                content[`content_${index}`] = el.innerHTML;
            });
            
            // Save social links
            document.querySelectorAll('.editable-link').forEach((link, index) => {
                content[`social_${link.dataset.platform}`] = link.href;
            });
            
            localStorage.setItem('portfolioContent', JSON.stringify(content));
            
            // Save profile image
            const profileImg = document.getElementById('profile-img').src;
            localStorage.setItem('profile-img', profileImg);
        }

        // Load all saved content
        function loadAllContent() {
            const savedContent = localStorage.getItem('portfolioContent');
            if (savedContent) {
                const content = JSON.parse(savedContent);
                const editables = document.querySelectorAll('.editable');
                
                editables.forEach((el, index) => {
                    if (content[`content_${index}`]) {
                        el.innerHTML = content[`content_${index}`];
                    }
                });

                // Load social links
                document.querySelectorAll('.editable-link').forEach(link => {
                    const savedUrl = content[`social_${link.dataset.platform}`];
                    if (savedUrl) {
                        link.href = savedUrl;
                    }
                });
            }

            // Load profile image
            const savedProfileImg = localStorage.getItem('profile-img');
            if (savedProfileImg) {
                document.getElementById('profile-img').src = savedProfileImg;
            }
        }

        // Update profile image
        function updateProfileImage(event) {
            if (!editMode) return;
            
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profile-img').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // Load Posts
        function loadPosts() {
            const savedPosts = localStorage.getItem('posts');
            let posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
            
            const container = document.getElementById('posts-container');
            container.innerHTML = '';
            
            posts.forEach((post, index) => {
                const postElement = createPostCard(post, index);
                container.appendChild(postElement);
            });

            if (posts.length > 0) {
                postIdCounter = Math.max(...posts.map(p => p.id)) + 1;
            }
        }

        // Create Post Card
        function createPostCard(post, index) {
            const div = document.createElement('div');
            div.className = 'post-card';
            div.dataset.postId = post.id;
            div.style.animationDelay = `${index * 0.1}s`;
            
            div.innerHTML = `
                <div class="post-card-image">
                    <img src="${post.image}" alt="${post.title}">
                    <div class="upload-prompt">Click to change</div>
                    <input type="file" accept="image/*" style="display: none;">
                </div>
                <h3 class="post-card-title">${post.title}</h3>
                <div class="post-card-tags">
                    ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
            `;
            
            // Add click handler to open modal
            div.addEventListener('click', (e) => {
                if (!e.target.matches('input[type="file"]')) {
                    openPostModal(post.id);
                }
            });

            // Setup image upload in edit mode
            if (editMode) {
                setupPostImageUpload(div, post.id);
            }
            
            return div;
        }

        // Setup post image upload
        function setupPostImageUpload(cardElement, postId) {
            const imageContainer = cardElement.querySelector('.post-card-image');
            const input = imageContainer.querySelector('input[type="file"]');
            const img = imageContainer.querySelector('img');
            
            imageContainer.addEventListener('click', (e) => {
                if (editMode) {
                    e.stopPropagation();
                    input.click();
                }
            });
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        img.src = event.target.result;
                        // Save immediately
                        const savedPosts = localStorage.getItem('posts');
                        let posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
                        const postIndex = posts.findIndex(p => p.id === postId);
                        if (postIndex !== -1) {
                            posts[postIndex].image = event.target.result;
                            localStorage.setItem('posts', JSON.stringify(posts));
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };
        }

        // Open Post Modal
        function openPostModal(postId) {
            const savedPosts = localStorage.getItem('posts');
            const posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
            const post = posts.find(p => p.id === postId);
            
            if (!post) return;
            
            currentPostId = postId;
            
            document.getElementById('modal-image').src = post.image;
            document.getElementById('modal-title').innerHTML = post.title;
            document.getElementById('modal-description').innerHTML = post.description;
            
            const tagsContainer = document.getElementById('modal-tags');
            tagsContainer.innerHTML = post.tags.map(tag => `<span class="tag">${tag}</span>`).join('');
            
            document.getElementById('post-modal').classList.add('show');
            
            // Make modal content editable if in edit mode
            if (editMode) {
                document.getElementById('modal-title').contentEditable = true;
                document.getElementById('modal-description').contentEditable = true;
            }
        }

        // Close Post Modal
        function closePostModal() {
            // Save changes if in edit mode
            if (editMode && currentPostId) {
                const savedPosts = localStorage.getItem('posts');
                const posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
                const postIndex = posts.findIndex(p => p.id === currentPostId);
                
                if (postIndex !== -1) {
                    posts[postIndex].title = document.getElementById('modal-title').innerHTML;
                    posts[postIndex].description = document.getElementById('modal-description').innerHTML;
                    localStorage.setItem('posts', JSON.stringify(posts));
                    loadPosts();
                }
            }
            
            document.getElementById('post-modal').classList.remove('show');
            currentPostId = null;
        }

        // Delete Current Post
        function deleteCurrentPost() {
            if (!editMode || !currentPostId) return;
            
            if (confirm('Are you sure you want to delete this post?')) {
                const savedPosts = localStorage.getItem('posts');
                let posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
                posts = posts.filter(p => p.id !== currentPostId);
                localStorage.setItem('posts', JSON.stringify(posts));
                closePostModal();
                loadPosts();
            }
        }

        // Add New Post
        function addNewPost() {
            if (!editMode) return;

            const newPost = {
                id: postIdCounter++,
                image: "https://images.unsplash.com/photo-1432821596592-e2c18b78144f?w=800&h=600&fit=crop",
                title: "New Post Title",
                description: "Click to edit this description and add your full content. Write as much as you want - share your story, insights, or any information you'd like to communicate. This is your space to express yourself.",
                tags: ["New", "Post"]
            };

            const savedPosts = localStorage.getItem('posts');
            let posts = savedPosts ? JSON.parse(savedPosts) : defaultPosts;
            posts.push(newPost);
            localStorage.setItem('posts', JSON.stringify(posts));
            
            loadPosts();
            
            // Setup upload for all posts in edit mode
            setTimeout(() => {
                document.querySelectorAll('.post-card').forEach(card => {
                    const postId = parseInt(card.dataset.postId);
                    setupPostImageUpload(card, postId);
                });
                
                // Scroll to new post
                const newCard = document.querySelector(`[data-post-id="${newPost.id}"]`);
                if (newCard) {
                    newCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 100);
        }

        // Save Posts
        function savePosts() {
            // Posts are already saved in real-time
        }

        // Show save notification
        function showNotification() {
            const notification = document.getElementById('save-notification');
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Export Portfolio
        function exportPortfolio() {
            if (!isAuthenticated || !editMode) return;
            alert('âœ… Export feature ready!\n\nYour portfolio with all edits and posts will be exported.\n\nUpload "my-portfolio-final.html" to any hosting service.');
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Close modal when clicking outside
        document.getElementById('post-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePostModal();
            }
        });
    </script>
</body>
</html>